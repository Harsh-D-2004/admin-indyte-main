/*! For license information please see 1579.507ef1e2.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkindyte=self.webpackChunkindyte||[]).push([[1579],{36555:(e,t,n)=>{n.r(t),n.d(t,{default:()=>N});var r=n(9950),a=n(16673),l=n(2260),c=n(51598),o=(n(28433),n(22742),n(98341)),i=(n(63593),n(87827)),s=n(32645),d=n(2557),u=n(50558),m=n(62693),f=n(32212),p=n(94438),h=n(98252),v=n(87094),g=n(41988),y=n(48874),x=n(48538),A=n(95492),b=n(67482),j=n(6969),E=n(86498),w=n(8099),O=n(44414);function N(){const{isAuthenticate:e,name:t,logo:n,role:N}=(0,o.d4)((e=>({name:e.auth.name,logo:e.auth.logo,role:e.auth.role,company:e.auth.company,email:e.auth.email}))),C=(0,w.decryptData)({ciphertext:N,key:"mysecret"}),[k]=i.A.useForm(),[P,R]=((0,a.useHistory)(),(0,r.useState)()),[L,S]=(0,r.useState)(null),[T,I]=(0,r.useState)(!1),[B,M]=(0,r.useState)(!1),[H,_]=(0,r.useState)(null),[U,z]=(0,r.useState)(null),[D,V]=(0,r.useState)("");(0,r.useEffect)((()=>{I(!0);try{(async()=>{if("admin"===C){const e=await E.api.get("".concat(j.API_ENDPOINT,"/admin/me"));if(console.log({response:e}),200!==e.status)throw new Error("Could not fetch profile data");S(await e.data)}else if("dietician"===C){const e=await E.api.get("".concat(j.API_ENDPOINT,"/dietician/me"));if(console.log({response:e}),200!==e.status)throw new Error("Could not fetch profile data");S(await e.data)}})()}catch(e){R(e.message)}finally{I(!1)}}),[N]);return console.log({profileData:L}),(0,O.jsxs)(O.Fragment,{children:[P&&(0,O.jsx)(s.A,{open:P,onOk:()=>R(null),onCancel:()=>R(null),children:(0,O.jsxs)(d.A,{style:{color:"red"},children:[(0,O.jsx)(u.A,{children:"Oops"}),P]})}),(0,O.jsx)(m.A,{title:"Profile"}),(0,O.jsxs)(b.Main,{children:[(0,O.jsx)(d.A,{style:{marginBottom:"1rem"},children:T?(0,O.jsx)(f.A,{active:!0}):(0,O.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",gap:"2rem",alignItems:"center"},children:[(0,O.jsx)("div",{children:null!==L&&void 0!==L&&L.profile?(0,O.jsx)(p.A,{width:200,src:null===L||void 0===L?void 0:L.profile}):(0,O.jsx)(h.A,{style:{width:"200px",height:"200px"},alt:"Upload an Image"})}),(0,O.jsxs)("div",{children:[(0,O.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",padding:"0.5rem"},children:[(0,O.jsxs)("p",{children:[(0,O.jsx)("strong",{children:"Name"}),":"," "]}),(0,O.jsx)("p",{children:null===L||void 0===L?void 0:L.name})]}),(0,O.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",padding:"0.5rem"},children:[(0,O.jsxs)("p",{children:[(0,O.jsx)("strong",{children:"Email"}),":"," "]}),(0,O.jsx)("p",{children:null===L||void 0===L?void 0:L.email})]}),(0,O.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",padding:"0.5rem"},children:[(0,O.jsxs)("p",{children:[(0,O.jsx)("strong",{children:"Address"}),":"," "]}),(0,O.jsx)("p",{children:null===L||void 0===L?void 0:L.address})]}),(0,O.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",padding:"0.5rem"},children:[(0,O.jsxs)("p",{children:[(0,O.jsx)("strong",{children:"Phone"}),":"," "]}),(0,O.jsx)("p",{children:null===L||void 0===L?void 0:L.phone})]})]})]})}),"dietician"===C&&(0,O.jsx)(d.A,{children:(0,O.jsx)(v.A,{align:"center",children:(0,O.jsxs)(g.A,{xs:24,md:12,children:[(0,O.jsx)(y.A,{name:"file",action:D||"https://run.mocky.io/v3/435e224c-44fb-4773-9faf-380c5e6a2188",listType:"picture-card",beforeUpload:e=>{console.log({file:e}),_(URL.createObjectURL(e)),z(e)},showUploadList:!1,children:H&&!B?(0,O.jsx)("img",{src:H,alt:"avatar",style:{width:"100%"}}):(0,O.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[D?B?(0,O.jsx)(l.A,{}):(0,O.jsx)(A.A,{style:{color:"green"}}):(0,O.jsx)(c.A,{}),(0,O.jsx)("div",{style:{marginTop:8},children:"Upload"})]})}),(0,O.jsx)(x.A,{onClick:async()=>{M(!0);try{if(!U)throw new Error("Image File Missing");if(200!==(await E.api.post("/dietician/profile",{image:U},{headers:{"Content-Type":"multipart/form-data"}})).status)throw new Error("Dieticains created but failed to upload photo")}catch(e){console.error({err:e}),R("Failed to update profile")}finally{M(!1)}},type:"default",children:B?"uploading...":"Submit"})]})})})]})]})}},35821:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(89379),a=n(9950);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};var c=n(47484),o=function(e,t){return a.createElement(c.A,(0,r.A)((0,r.A)({},e),{},{ref:t,icon:l}))};const i=a.forwardRef(o)},8676:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(89379),a=n(9950);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"};var c=n(47484),o=function(e,t){return a.createElement(c.A,(0,r.A)((0,r.A)({},e),{},{ref:t,icon:l}))};const i=a.forwardRef(o)},94889:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(89379),a=n(9950);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};var c=n(47484),o=function(e,t){return a.createElement(c.A,(0,r.A)((0,r.A)({},e),{},{ref:t,icon:l}))};const i=a.forwardRef(o)},51598:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(89379),a=n(9950);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};var c=n(47484),o=function(e,t){return a.createElement(c.A,(0,r.A)((0,r.A)({},e),{},{ref:t,icon:l}))};const i=a.forwardRef(o)},73414:(e,t,n)=>{n.d(t,{A:()=>O});var r=n(64467),a=n(58168),l=n(60436),c=n(48738),o=n.n(c),i=n(50604),s=n(9950),d=n(5741),u=n(69216),m=n(39156),f=n(94889),p=n(34660),h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},v=function(e){var t=e.prefixCls,n=e.separator,r=void 0===n?"/":n,l=e.children,c=e.menu,o=e.overlay,i=e.dropdownProps,u=h(e,["prefixCls","separator","children","menu","overlay","dropdownProps"]),m=(0,s.useContext(d.QO).getPrefixCls)("breadcrumb",t);var v;return v=function(t){if(c||o){var n=(0,a.A)({},i);return"overlay"in e&&(n.overlay=o),s.createElement(p.A,(0,a.A)({menu:c,placement:"bottom"},n),s.createElement("span",{className:"".concat(m,"-overlay-link")},t,s.createElement(f.A,null)))}return t}(v="href"in u?s.createElement("a",(0,a.A)({className:"".concat(m,"-link")},u),l):s.createElement("span",(0,a.A)({className:"".concat(m,"-link")},u),l)),void 0!==l&&null!==l?s.createElement("li",null,v,r&&s.createElement("span",{className:"".concat(m,"-separator")},r)):null};v.__ANT_BREADCRUMB_ITEM=!0;const g=v;var y=function(e){var t=e.children,n=(0,s.useContext(d.QO).getPrefixCls)("breadcrumb");return s.createElement("span",{className:"".concat(n,"-separator")},t||"/")};y.__ANT_BREADCRUMB_SEPARATOR=!0;const x=y;var A=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function b(e,t,n,r){var a=n.indexOf(e)===n.length-1,l=function(e,t){if(!e.breadcrumbName)return null;var n=Object.keys(t).join("|");return e.breadcrumbName.replace(new RegExp(":(".concat(n,")"),"g"),(function(e,n){return t[n]||e}))}(e,t);return a?s.createElement("span",null,l):s.createElement("a",{href:"#/".concat(r.join("/"))},l)}var j=function(e,t){return e=(e||"").replace(/^\//,""),Object.keys(t).forEach((function(n){e=e.replace(":".concat(n),t[n])})),e},E=function(e,t,n){var r=(0,l.A)(e),a=j(t||"",n);return a&&r.push(a),r},w=function(e){var t,n=e.prefixCls,l=e.separator,c=void 0===l?"/":l,f=e.style,p=e.className,h=e.routes,v=e.children,y=e.itemRender,x=void 0===y?b:y,w=e.params,O=void 0===w?{}:w,N=A(e,["prefixCls","separator","style","className","routes","children","itemRender","params"]),C=s.useContext(d.QO),k=C.getPrefixCls,P=C.direction,R=k("breadcrumb",n);if(h&&h.length>0){var L=[];t=h.map((function(e){var t,n=j(e.path,O);n&&L.push(n),e.children&&e.children.length&&(t=s.createElement(u.A,{items:e.children.map((function(e){return{key:e.path||e.breadcrumbName,label:x(e,O,h,E(L,e.path,O))}}))}));var r={separator:c};return t&&(r.overlay=t),s.createElement(g,(0,a.A)({},r,{key:n||e.breadcrumbName}),x(e,O,h,L))}))}else v&&(t=(0,i.A)(v).map((function(e,t){return e?(0,m.Ob)(e,{separator:c,key:t}):e})));var S=o()(R,(0,r.A)({},"".concat(R,"-rtl"),"rtl"===P),p);return s.createElement("nav",(0,a.A)({className:S,style:f},N),s.createElement("ol",null,t))};w.Item=g,w.Separator=x;const O=w},90820:(e,t,n)=>{n.d(t,{A:()=>r});const r=n(47033).A},62693:(e,t,n)=>{n.d(t,{A:()=>A});var r=n(64467),a=n(5544),l=n(58168),c=n(35821),o=n(8676),i=n(48738),s=n.n(i),d=n(37978),u=n(79435),m=n(9950),f=n(98252),p=n(73414),h=n(5741),v=n(66075),g=n(80737),y=n(82725),x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ltr",r=t.title,a=t.avatar,i=t.subTitle,s=t.tags,d=t.extra,u=t.onBack,p="".concat(e,"-heading"),h=r||i||s||d;if(!h)return null;var x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ltr";return void 0!==e.backIcon?e.backIcon:"rtl"===t?m.createElement(o.A,null):m.createElement(c.A,null)}(t,n),A=function(e,t,n){return t&&n?m.createElement(v.A,{componentName:"PageHeader"},(function(r){return m.createElement("div",{className:"".concat(e,"-back")},m.createElement(y.A,{onClick:function(e){null===n||void 0===n||n(e)},className:"".concat(e,"-back-button"),"aria-label":r.back},t))})):null}(e,x,u),b=A||a||h;return m.createElement("div",{className:p},b&&m.createElement("div",{className:"".concat(p,"-left")},A,a&&m.createElement(f.A,(0,l.A)({},a)),r&&m.createElement("span",{className:"".concat(p,"-title"),title:"string"===typeof r?r:void 0},r),i&&m.createElement("span",{className:"".concat(p,"-sub-title"),title:"string"===typeof i?i:void 0},i),s&&m.createElement("span",{className:"".concat(p,"-tags")},s)),d&&m.createElement("span",{className:"".concat(p,"-extra")},m.createElement(g.A,null,d)))};const A=function(e){var t=(0,u.A)(!1),n=(0,a.A)(t,2),c=n[0],o=n[1],i=function(e){var t=e.width;o(t<768,!0)};return m.createElement(h.TG,null,(function(t){var n,a=t.getPrefixCls,o=t.pageHeader,u=t.direction,f=e.prefixCls,h=e.style,v=e.footer,g=e.children,y=e.breadcrumb,A=e.breadcrumbRender,b=e.className,j=!0;"ghost"in e?j=e.ghost:o&&"ghost"in o&&(j=o.ghost);var E=a("page-header",f),w=(null===y||void 0===y?void 0:y.routes)?function(e){return m.createElement(p.A,(0,l.A)({},e))}(y):null,O=y&&"props"in y,N=null!==(n=null===A||void 0===A?void 0:A(e,w))&&void 0!==n?n:w,C=O?y:N,k=s()(E,b,(0,r.A)((0,r.A)((0,r.A)({"has-breadcrumb":!!C,"has-footer":!!v},"".concat(E,"-ghost"),j),"".concat(E,"-rtl"),"rtl"===u),"".concat(E,"-compact"),c));return m.createElement(d.A,{onResize:i},m.createElement("div",{className:k,style:h},C,x(E,e,u),g&&function(e,t){return m.createElement("div",{className:"".concat(e,"-content")},t)}(E,g),function(e,t){return t?m.createElement("div",{className:"".concat(e,"-footer")},t):null}(E,v)))}))}},95492:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(79655).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},77108:(e,t,n)=>{n.d(t,{A3:()=>a,XV:()=>r});function r(){return{width:document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight}}function a(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}}}]);