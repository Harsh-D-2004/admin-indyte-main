"use strict";(self.webpackChunkindyte=self.webpackChunkindyte||[]).push([[9108],{87680:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var a=n(99674),o=n(98252),r=n(48538),l=n(32645),i=n(2557),c=n(50558),s=n(32212),u=n(87094),d=n(41988),p=n(86170),f=(n(63593),n(16673)),v=n(98341),m=n(9950),h=n(6969),b=n(67482),x=n(8603),y=n(57687),A=(n(40201),n(86498)),g=n(8099),C=n(44414);const{Option:O}=a.A;function w(){const e=(0,f.useHistory)(),[t,n]=(0,m.useState)(null),[w,E]=(0,m.useState)(!1),[j,k]=(0,m.useState)(!1),[N,I]=(0,m.useState)([]),[S,P]=(0,m.useState)(),{role:M,id:_}=(0,v.d4)((e=>({role:e.auth.role,id:e.auth.id}))),R=(0,g.decryptData)({ciphertext:M,key:"mysecret"});(0,m.useEffect)((()=>{k(!0);(async()=>{try{var e;const t=await A.api.get("".concat(h.API_ENDPOINT,"/getclients?dieticianId=").concat(_));if(200!==t.status)throw new Error("Request Failed");const n=await t.data;I(null===n||void 0===n||null===(e=n.clients)||void 0===e?void 0:e.user)}catch(t){console.error({err:t}),n(t.message)}finally{k(!1)}})()}),[]),console.log({allUsers:N,userRole:R}),"admin"===R&&e.push("/admin/all-users");const F=[{title:"Name",dataIndex:"id",key:"id",render:e=>{const t=N.find((t=>(null===t||void 0===t?void 0:t.id)===e));return(0,C.jsxs)("div",{className:"flex justify-start item-center gap-less",children:[(0,C.jsx)(o.A,{size:48,src:(null===t||void 0===t?void 0:t.profile)||"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8Zm9vZHxlbnwwfHwwfHx8MA%3D%3D",alt:null===t||void 0===t?void 0:t.name}),null===t||void 0===t?void 0:t.name]})}},{title:"Email",dataIndex:"email",key:"email"},{title:"Gender",dataIndex:"gender",key:"gender"},{title:"Subscription",dataIndex:"subscription",key:"subscription",render:e=>(0,C.jsx)("span",{className:"status-text ".concat(e||"active"),children:"active"})},{title:"Goal",dataIndex:"goal",key:"goal",render:e=>(0,C.jsx)("div",{className:"w-full text-left",children:e||"Not Set"})},{title:"View Detail",dataIndex:"id",key:"id",render:t=>(0,C.jsx)("div",{className:"w-full flex justify-end",children:(0,C.jsx)(r.A,{onClick:()=>{const n=N.find((e=>e.id===t));e.push("/admin/users/".concat(n.id))},type:"dashed",children:"view"})})}];return(0,C.jsxs)(C.Fragment,{children:[t&&(0,C.jsx)(l.A,{open:t,onOk:()=>n(null),onCancel:()=>n(null),children:(0,C.jsxs)(i.A,{style:{color:"red"},children:[(0,C.jsx)(c.A,{children:"Oops"}),t]})}),w&&(0,C.jsx)(l.A,{open:w,onOk:()=>E(null),onCancel:()=>E(null),children:(0,C.jsx)(i.A,{children:(0,C.jsx)(c.A,{style:{color:"green"},children:" Assigned Successfully"})})}),(0,C.jsx)(y.PageHeader,{ghost:!0,title:"My Users",subTitle:j?(0,C.jsx)(s.A,{active:!0}):(0,C.jsxs)("span",{className:"title-counter",children:[N.length," Users "]}),buttons:[(0,C.jsxs)(a.A,{showSearch:!0,style:{width:"100%",maxWidth:"20rem",minWidth:"16rem"},placeholder:"Search by Name",optionFilterProp:"children",onChange:e=>{const t=N.find((t=>t.id===e));P(t)},filterOption:(e,t)=>t.children.toLowerCase().includes(e.toLowerCase()),children:[(0,C.jsx)(O,{children:"Select User"}),N.map((e=>(0,C.jsx)(O,{value:e.id,label:e.name,children:e.name},e.id)))]})]}),(0,C.jsx)(b.Main,{children:(0,C.jsx)(u.A,{gutter:15,children:(0,C.jsx)(d.A,{md:24,children:j?(0,C.jsx)(i.A,{children:(0,C.jsx)(s.A,{active:!0})}):(0,C.jsx)(x.UserTableStyleWrapper,{children:(0,C.jsx)(b.TableWrapper,{className:"table-responsive",children:(0,C.jsx)(p.A,{columns:F,dataSource:S?[S]:N,pagination:{pageSize:10}})})})})})})]})}},27373:(e,t,n)=>{function a(e){return Object.keys(e).reduce((function(t,n){return!n.startsWith("data-")&&!n.startsWith("aria-")&&"role"!==n||n.startsWith("data-__")||(t[n]=e[n]),t}),{})}n.d(t,{A:()=>a})},52765:(e,t,n)=>{n.d(t,{A:()=>w});var a=n(64467),o=n(58168),r=n(48738),l=n.n(r),i=n(14691),c=n(9950),s=n(5741),u=n(77643),d=n(60436),p=n(5544),f=n(15207),v=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},m=c.createContext(null),h=function(e,t){var n=e.defaultValue,r=e.children,i=e.options,u=void 0===i?[]:i,h=e.prefixCls,b=e.className,x=e.style,y=e.onChange,A=v(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),g=c.useContext(s.QO),O=g.getPrefixCls,w=g.direction,E=c.useState(A.value||n||[]),j=(0,p.A)(E,2),k=j[0],N=j[1],I=c.useState([]),S=(0,p.A)(I,2),P=S[0],M=S[1];c.useEffect((function(){"value"in A&&N(A.value||[])}),[A.value]);var _=function(){return u.map((function(e){return"string"===typeof e||"number"===typeof e?{label:e,value:e}:e}))},R=O("checkbox",h),F="".concat(R,"-group"),H=(0,f.A)(A,["value","disabled"]);u&&u.length>0&&(r=_().map((function(e){return c.createElement(C,{prefixCls:R,key:e.value.toString(),disabled:"disabled"in e?e.disabled:A.disabled,value:e.value,checked:k.includes(e.value),onChange:e.onChange,className:"".concat(F,"-item"),style:e.style},e.label)})));var T={toggleOption:function(e){var t=k.indexOf(e.value),n=(0,d.A)(k);-1===t?n.push(e.value):n.splice(t,1),"value"in A||N(n);var a=_();null===y||void 0===y||y(n.filter((function(e){return P.includes(e)})).sort((function(e,t){return a.findIndex((function(t){return t.value===e}))-a.findIndex((function(e){return e.value===t}))})))},value:k,disabled:A.disabled,name:A.name,registerValue:function(e){M((function(t){return[].concat((0,d.A)(t),[e])}))},cancelValue:function(e){M((function(t){return t.filter((function(t){return t!==e}))}))}},D=l()(F,(0,a.A)({},"".concat(F,"-rtl"),"rtl"===w),b);return c.createElement("div",(0,o.A)({className:D,style:x},H,{ref:t}),c.createElement(m.Provider,{value:T},r))},b=c.forwardRef(h);const x=c.memo(b);var y=n(19389),A=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},g=function(e,t){var n,r=e.prefixCls,d=e.className,p=e.children,f=e.indeterminate,v=void 0!==f&&f,h=e.style,b=e.onMouseEnter,x=e.onMouseLeave,g=e.skipGroup,C=void 0!==g&&g,O=e.disabled,w=A(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),E=c.useContext(s.QO),j=E.getPrefixCls,k=E.direction,N=c.useContext(m),I=(0,c.useContext)(u.$W).isFormItemInput,S=(0,c.useContext)(y.A),P=null!==(n=(null===N||void 0===N?void 0:N.disabled)||O)&&void 0!==n?n:S,M=c.useRef(w.value);c.useEffect((function(){null===N||void 0===N||N.registerValue(w.value)}),[]),c.useEffect((function(){if(!C)return w.value!==M.current&&(null===N||void 0===N||N.cancelValue(M.current),null===N||void 0===N||N.registerValue(w.value),M.current=w.value),function(){return null===N||void 0===N?void 0:N.cancelValue(w.value)}}),[w.value]);var _=j("checkbox",r),R=(0,o.A)({},w);N&&!C&&(R.onChange=function(){w.onChange&&w.onChange.apply(w,arguments),N.toggleOption&&N.toggleOption({label:p,value:w.value})},R.name=N.name,R.checked=N.value.includes(w.value));var F=l()((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)({},"".concat(_,"-wrapper"),!0),"".concat(_,"-rtl"),"rtl"===k),"".concat(_,"-wrapper-checked"),R.checked),"".concat(_,"-wrapper-disabled"),P),"".concat(_,"-wrapper-in-form-item"),I),d),H=l()((0,a.A)({},"".concat(_,"-indeterminate"),v)),T=v?"mixed":void 0;return c.createElement("label",{className:F,style:h,onMouseEnter:b,onMouseLeave:x},c.createElement(i.A,(0,o.A)({"aria-checked":T},R,{prefixCls:_,className:H,disabled:P,ref:t})),void 0!==p&&c.createElement("span",null,p))};const C=c.forwardRef(g);var O=C;O.Group=x,O.__ANT_CHECKBOX=!0;const w=O},84266:(e,t,n)=>{n.d(t,{Ay:()=>l,Eb:()=>i,Ng:()=>c,XO:()=>r});var a=n(9950),o=a.createContext(null),r=o.Provider;const l=o;var i=a.createContext(null),c=i.Provider},32690:(e,t,n)=>{n.d(t,{A:()=>h});var a=n(58168),o=n(64467),r=n(5544),l=n(48738),i=n.n(l),c=n(71207),s=n(9950),u=n(5741),d=n(87126),p=n(27373),f=n(84266),v=n(76166),m=s.forwardRef((function(e,t){var n=s.useContext(u.QO),l=n.getPrefixCls,m=n.direction,h=s.useContext(d.A),b=(0,c.A)(e.defaultValue,{value:e.value}),x=(0,r.A)(b,2),y=x[0],A=x[1],g=e.prefixCls,C=e.className,O=void 0===C?"":C,w=e.options,E=e.buttonStyle,j=void 0===E?"outline":E,k=e.disabled,N=e.children,I=e.size,S=e.style,P=e.id,M=e.onMouseEnter,_=e.onMouseLeave,R=e.onFocus,F=e.onBlur,H=l("radio",g),T="".concat(H,"-group"),D=N;w&&w.length>0&&(D=w.map((function(e){return"string"===typeof e||"number"===typeof e?s.createElement(v.A,{key:e.toString(),prefixCls:H,disabled:k,value:e,checked:y===e},e):s.createElement(v.A,{key:"radio-group-value-options-".concat(e.value),prefixCls:H,disabled:e.disabled||k,value:e.value,checked:y===e.value,style:e.style},e.label)})));var W=I||h,L=i()(T,"".concat(T,"-").concat(j),(0,o.A)((0,o.A)({},"".concat(T,"-").concat(W),W),"".concat(T,"-rtl"),"rtl"===m),O);return s.createElement("div",(0,a.A)({},(0,p.A)(e),{className:L,style:S,onMouseEnter:M,onMouseLeave:_,onFocus:R,onBlur:F,id:P,ref:t}),s.createElement(f.XO,{value:{onChange:function(t){var n=y,a=t.target.value;"value"in e||A(a);var o=e.onChange;o&&a!==n&&o(t)},value:y,disabled:e.disabled,name:e.name,optionType:e.optionType}},D))}));const h=s.memo(m)},24893:(e,t,n)=>{n.d(t,{Ay:()=>i});var a=n(32690),o=n(76166),r=n(98338),l=o.A;l.Button=r.A,l.Group=a.A,l.__ANT_RADIO=!0;const i=l},76166:(e,t,n)=>{n.d(t,{A:()=>h});var a=n(64467),o=n(58168),r=n(48738),l=n.n(r),i=n(14691),c=n(41929),s=n(9950),u=n(5741),d=n(19389),p=n(77643),f=n(84266),v=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},m=function(e,t){var n,r,m=s.useContext(f.Ay),h=s.useContext(f.Eb),b=s.useContext(u.QO),x=b.getPrefixCls,y=b.direction,A=s.useRef(),g=(0,c.K4)(t,A),C=(0,s.useContext)(p.$W).isFormItemInput,O=e.prefixCls,w=e.className,E=e.children,j=e.style,k=v(e,["prefixCls","className","children","style"]),N=x("radio",O),I="button"===((null===m||void 0===m?void 0:m.optionType)||h)?"".concat(N,"-button"):N,S=(0,o.A)({},k),P=s.useContext(d.A);m&&(S.name=m.name,S.onChange=function(t){var n,a;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(a=null===m||void 0===m?void 0:m.onChange)||void 0===a||a.call(m,t)},S.checked=e.value===m.value,S.disabled=null!==(n=S.disabled)&&void 0!==n?n:m.disabled),S.disabled=null!==(r=S.disabled)&&void 0!==r?r:P;var M=l()("".concat(I,"-wrapper"),(0,a.A)((0,a.A)((0,a.A)((0,a.A)({},"".concat(I,"-wrapper-checked"),S.checked),"".concat(I,"-wrapper-disabled"),S.disabled),"".concat(I,"-wrapper-rtl"),"rtl"===y),"".concat(I,"-wrapper-in-form-item"),C),w);return s.createElement("label",{className:M,style:j,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},s.createElement(i.A,(0,o.A)({},S,{type:"radio",prefixCls:I,ref:g})),void 0!==E?s.createElement("span",null,E):null)};const h=s.forwardRef(m)},98338:(e,t,n)=>{n.d(t,{A:()=>u});var a=n(58168),o=n(9950),r=n(5741),l=n(84266),i=n(76166),c=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},s=function(e,t){var n=o.useContext(r.QO).getPrefixCls,s=e.prefixCls,u=c(e,["prefixCls"]),d=n("radio",s);return o.createElement(l.Ng,{value:"button"},o.createElement(i.A,(0,a.A)({prefixCls:d},u,{type:"radio",ref:t})))};const u=o.forwardRef(s)},99674:(e,t,n)=>{n.d(t,{A:()=>O});var a=n(64467),o=n(58168),r=n(48738),l=n.n(r),i=n(97611),c=n(15207),s=n(9950),u=n(5741),d=n(45534),p=n(19389),f=n(87126),v=n(77643),m=n(49437),h=n(91396),b=n(15735),x=n(93457),y=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},A="SECRET_COMBOBOX_MODE_DO_NOT_USE",g=function(e,t){var n,r=e.prefixCls,g=e.bordered,C=void 0===g||g,O=e.className,w=e.getPopupContainer,E=e.dropdownClassName,j=e.popupClassName,k=e.listHeight,N=void 0===k?256:k,I=e.placement,S=e.listItemHeight,P=void 0===S?32:S,M=e.size,_=e.disabled,R=e.notFoundContent,F=e.status,H=e.showArrow,T=y(e,["prefixCls","bordered","className","getPopupContainer","dropdownClassName","popupClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","showArrow"]),D=s.useContext(u.QO),W=D.getPopupContainer,L=D.getPrefixCls,V=D.renderEmpty,B=D.direction,z=D.virtual,G=D.dropdownMatchSelectWidth,Q=s.useContext(f.A),U=L("select",r),X=L(),$=(0,x.RQ)(U,B),Z=$.compactSize,q=$.compactItemClassnames,K=s.useMemo((function(){var e=T.mode;if("combobox"!==e)return e===A?"combobox":e}),[T.mode]),J="multiple"===K||"tags"===K,Y=void 0!==H?H:T.loading||!(J||"combobox"===K),ee=(0,s.useContext)(v.$W),te=ee.status,ne=ee.hasFeedback,ae=ee.isFormItemInput,oe=ee.feedbackIcon,re=(0,h.v)(te,F);n=void 0!==R?R:"combobox"===K?null:(V||d.A)("Select");var le=(0,b.A)((0,o.A)((0,o.A)({},T),{multiple:J,hasFeedback:ne,feedbackIcon:oe,showArrow:Y,prefixCls:U})),ie=le.suffixIcon,ce=le.itemIcon,se=le.removeIcon,ue=le.clearIcon,de=(0,c.A)(T,["suffixIcon","itemIcon"]),pe=l()(j||E,(0,a.A)({},"".concat(U,"-dropdown-").concat(B),"rtl"===B)),fe=Z||M||Q,ve=s.useContext(p.A),me=null!==_&&void 0!==_?_:ve,he=l()((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)({},"".concat(U,"-lg"),"large"===fe),"".concat(U,"-sm"),"small"===fe),"".concat(U,"-rtl"),"rtl"===B),"".concat(U,"-borderless"),!C),"".concat(U,"-in-form-item"),ae),(0,h.L)(U,re,ne),q,O);return s.createElement(i.Ay,(0,o.A)({ref:t,virtual:z,dropdownMatchSelectWidth:G},de,{transitionName:(0,m.by)(X,(0,m.TL)(I),T.transitionName),listHeight:N,listItemHeight:P,mode:K,prefixCls:U,placement:void 0!==I?I:"rtl"===B?"bottomRight":"bottomLeft",direction:B,inputIcon:ie,menuItemSelectedIcon:ce,removeIcon:se,clearIcon:ue,notFoundContent:n,className:he,getPopupContainer:w||W,dropdownClassName:pe,showArrow:ne||H,disabled:me}))},C=s.forwardRef(g);C.SECRET_COMBOBOX_MODE_DO_NOT_USE=A,C.Option=i.c$,C.OptGroup=i.JM;const O=C},14691:(e,t,n)=>{n.d(t,{A:()=>f});var a=n(58168),o=n(89379),r=n(64467),l=n(5544),i=n(80045),c=n(48738),s=n.n(c),u=n(71207),d=n(9950),p=["prefixCls","className","style","checked","disabled","defaultChecked","type","onChange"];const f=(0,d.forwardRef)((function(e,t){var n,c=e.prefixCls,f=void 0===c?"rc-checkbox":c,v=e.className,m=e.style,h=e.checked,b=e.disabled,x=e.defaultChecked,y=void 0!==x&&x,A=e.type,g=void 0===A?"checkbox":A,C=e.onChange,O=(0,i.A)(e,p),w=(0,d.useRef)(null),E=(0,u.A)(y,{value:h}),j=(0,l.A)(E,2),k=j[0],N=j[1];(0,d.useImperativeHandle)(t,(function(){return{focus:function(){var e;null===(e=w.current)||void 0===e||e.focus()},blur:function(){var e;null===(e=w.current)||void 0===e||e.blur()},input:w.current}}));var I=s()(f,v,(n={},(0,r.A)(n,"".concat(f,"-checked"),k),(0,r.A)(n,"".concat(f,"-disabled"),b),n));return d.createElement("span",{className:I,style:m},d.createElement("input",(0,a.A)({},O,{className:"".concat(f,"-input"),ref:w,onChange:function(t){b||("checked"in e||N(t.target.checked),null===C||void 0===C||C({target:(0,o.A)((0,o.A)({},e),{},{type:g,checked:t.target.checked}),stopPropagation:function(){t.stopPropagation()},preventDefault:function(){t.preventDefault()},nativeEvent:t.nativeEvent}))},disabled:b,checked:!!k,type:g})),d.createElement("span",{className:"".concat(f,"-inner")}))}))}}]);